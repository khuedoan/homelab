nextcloud:
  ingress:
    enabled: true
    className: nginx
    annotations:
      cert-manager.io/cluster-issuer: letsencrypt-prod
      external-dns.alpha.kubernetes.io/target: "homelab-tunnel.meyeringh.org"
      external-dns.alpha.kubernetes.io/cloudflare-proxied: "true"
      nginx.ingress.kubernetes.io/affinity: cookie
    hosts:
      - host: &frontend_host nextcloud.meyeringh.org
        paths:
          - path: /
            pathType: Prefix
    tls:
      - secretName: nextcloud-tls-certificate
        hosts:
          - *frontend_host
	
  hpa:
    enabled: false
  fullnameOverride: nextcloud
  
  nextcloud:
    host: nextcloud.meyeringh.org
    trustedDomains:
      - 'nextcloud.meyeringh.org'
    defaultConfigs:
      imaginary.config.php: true
    persistence:
      enabled: true
  
  imaginary:
    enabled: true
  image:
    flavor: fpm
  
  nginx:
    enabled: false
  postgresql:
    enabled: true
    global:
      postgresql:
        auth:
          password: "testing123456"
  
  internalDatabase:
    enabled: false
  
  externalDatabase:
    enabled: true
    type: postgresql
    password: "testing123456"
  fullnameOverride: nextcloud
  
  image:
    repository: nextcloud
    tag: 30.0.4-apache
    pullPolicy: IfNotPresent
    flavor: fpm
